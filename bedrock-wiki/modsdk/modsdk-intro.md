---
title: ğŸš€ å¿«é€Ÿå…¥é—¨ Mod å¼€å‘
category: åŸºç¡€
---

# ğŸš€ å¿«é€Ÿå…¥é—¨æˆ‘çš„ä¸–ç•Œ Mod å¼€å‘

::: warning :warning: æ¥ä¸‹æ¥éœ€è¦ Python2 åŸºç¡€çŸ¥è¯†
å¦‚æœä½ ä¸ç†Ÿæ‚‰ Python çš„è¿™äº›æ¦‚å¿µï¼ˆå˜é‡ã€å‡½æ•°ã€ç±»ç­‰ï¼‰ï¼Œæˆ–æ˜¯è¿˜æ²¡æœ‰å®‰è£… Python2 ç¯å¢ƒï¼Œå¯ä»¥å…ˆå­¦ä¹  [Python å®˜æ–¹æ•™ç¨‹](https://docs.python.org/zh-cn/2/tutorial/index.html)
:::

## 1. åˆ›å»ºä½ çš„ Addons

::: details ä»€ä¹ˆæ˜¯ Addonsï¼Ÿ
Addons æ˜¯åŸºå²©ç‰ˆçš„ç©æ³•ä¸å†…å®¹æ‰©å±•çš„è½½ä½“ï¼Œåˆ†ä¸ºè¡Œä¸ºåŒ…ï¼ˆBehavior Packï¼‰å’Œèµ„æºåŒ…ï¼ˆResource Packï¼‰ä¸¤éƒ¨åˆ†ã€‚

åœ¨ä¸­å›½ç‰ˆçš„è¡Œä¸ºåŒ…ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Python2 ç¼–å†™ Mod è„šæœ¬ï¼Œå®ç°è‡ªå®šä¹‰çš„å¤æ‚æ¸¸æˆé€»è¾‘ã€‚
:::

æˆ‘ä»¬ä¸€èˆ¬æ¨èä½¿ç”¨ MCStudio æ¥åˆ›å»ºä½ çš„ Addonsï¼ˆModï¼‰

- å·¦ä¾§åˆ‡æ¢åˆ° `ä½œå“åº“` > `åŸºå²©ç‰ˆç»„ä»¶` æ ‡ç­¾é¡µ
- é¡¶éƒ¨åˆ‡æ¢åˆ° `é™„åŠ åŒ…` æ ‡ç­¾é¡µ
- ç‚¹å‡»å³ä¸Šè§’ `æ–°å»º` æŒ‰é’®ï¼Œé€‰æ‹© `ç©ºç™½é™„åŠ åŒ…` æˆ– `å…¥é—¨é¢„è®¾è„šæœ¬æ¨¡æ¿`
- è¾“å…¥ ä½œå“åç§°ã€å‘½åç©ºé—´ ç­‰ä¿¡æ¯ï¼Œç‚¹å‡» `å¯åŠ¨ç¼–è¾‘` å¯åŠ¨ MCStudio ç¼–è¾‘å™¨ï¼ˆä½†æ˜¯æš‚æ—¶æ²¡ä»€ä¹ˆç”¨ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡» `ä»…æ–°å»º` æ¥åˆ›å»ºã€‚

## 2. åˆ›å»ºåŸºç¡€ Mod æ¡†æ¶

Addonsï¼ˆModï¼‰åˆ›å»ºå®Œæ¯•åï¼Œä½ å¯ä»¥åœ¨ MC Studio ä¸­ï¼Œæ‰¾åˆ°ä½ åˆšåˆšåˆ›å»ºçš„ Addonsï¼Œç‚¹å‡» `æ›´å¤š` > `æ‰“å¼€ç›®å½•`ï¼Œå³å¯åœ¨èµ„æºç®¡ç†å™¨ä¸­æ‰¾åˆ°å’Œæ‰“å¼€ Addons æ–‡ä»¶å¤¹ã€‚

æ¥ç€ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä»£ç ç¼–è¾‘å™¨æ‰“å¼€è¿™ä¸ª Addons æ–‡ä»¶å¤¹ã€‚

> å¯ä»¥ä½¿ç”¨ VS Codeï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ PyCharm ç­‰ç”¨äº Python çš„ IDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒ çš„ç¼©å†™ï¼‰ã€‚

::: code-group
``` [Addonsç›®å½•ç»“æ„]
Addons                     # Addons æ ¹ç›®å½•
â”œâ”€â”€ resource_pack/         # åŸºå²©ç‰ˆæè´¨åŒ…ï¼ˆMCStudioåˆ›å»ºæ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆåç¼€ï¼Œè¿™æ˜¯æ²¡é—®é¢˜çš„ï¼‰
â”‚   â”œâ”€â”€ manifest.json      # æè´¨åŒ…æè¿°æ–‡ä»¶
â”‚   â””â”€â”€ textures/          # æè´¨æ–‡ä»¶ç›®å½•ï¼ˆç›®å‰ç”¨ä¸åˆ°ï¼‰
â”‚       â”œâ”€â”€ blocks/
â”‚       â””â”€â”€ items/
â”œâ”€â”€ behavior_pack/         # åŸºå²©ç‰ˆè¡Œä¸ºåŒ…ï¼ˆMCStudioåˆ›å»ºæ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆåç¼€ï¼Œè¿™æ˜¯æ²¡é—®é¢˜çš„ï¼‰
â”‚   â”œâ”€â”€ manifest.json      # è¡Œä¸ºåŒ…æè¿°æ–‡ä»¶
â”‚   â”œâ”€â”€ myScript/          # Modè„šæœ¬ç›®å½•ï¼ˆè¿™ä¸ªç›®å½•åå­—éšä¾¿èµ·ï¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ modMain.py
â”‚   â”‚   â”œâ”€â”€ MyServerSystem.py  # ServerSystemï¼Œä½ ä¹Ÿå¯ä»¥éšæ„æ”¾åœ¨ä»»ä½•å­ç›®å½•ï¼Œä½†æ˜¯éœ€è¦åœ¨modMain.pyä¸­æ­£ç¡®æ³¨å†Œ
â”‚   â”‚   â””â”€â”€ MyClientSystem.py  # ClientSystemï¼Œä½ ä¹Ÿå¯ä»¥éšæ„æ”¾åœ¨ä»»ä½•å­ç›®å½•ï¼Œä½†æ˜¯éœ€è¦åœ¨modMain.pyä¸­æ­£ç¡®æ³¨å†Œ
```
:::

Modï¼ˆPythonï¼‰é€»è¾‘ä½äº `è¡Œä¸ºåŒ… (Behavior Packï¼Œç®€ç§°BP)` ä¸­çš„ **è„šæœ¬ç›®å½•**ï¼Œè¿™é‡Œæˆ‘ä»¬å–åä¸º `myScript`ï¼Œå½“ç„¶ä½ æƒ³ä½ å¯ä»¥éšä¾¿å–åã€‚

::: code-group
```python [BP/myScript/modMain.py]
from mod.common.mod import Mod
import mod.server.extraServerApi as serverApi
import mod.client.extraClientApi as clientApi

# é€šè¿‡Mod.Bindingæ³¨æ˜è¿™ä¸ªclassæ˜¯Modçš„ä¸»å…¥å£ã€‚
@Mod.Binding(name="MyFirstMod", version="1.0")  # Modåç§°(name)å¯ä»¥éšä¾¿å–ï¼Œä½†æ˜¯éœ€è¦å”¯ä¸€ä¸”ç”¨äºä¸‹æ–¹æ³¨å†Œç³»ç»Ÿå’Œåç»­æ³¨å†Œäº‹ä»¶ç›‘å¬ã€‚
class MyFirstMod:  # è¿™ä¸ªç±»åå¯ä»¥éšä¾¿å–
    @Mod.InitServer()
    def serverInit(self):  # è¿™ä¸ªæ–¹æ³•åå¯ä»¥éšä¾¿å–ï¼Œå› ä¸ºå·²ç»é€šè¿‡@Mod.InitServer()æ³¨æ˜æ˜¯æœåŠ¡ç«¯çš„åˆå§‹åŒ–æ–¹æ³•
        serverApi.RegisterSystem("MyFirstMod", "MyServerSystem", "myScript.MyServerSystem.MyServerSystem")
        print("MyFirstMod æœåŠ¡ç«¯å·²åŠ è½½ï¼")  # printæ‰“å°çš„å†…å®¹å°†è¾“å‡ºåœ¨MCStudioçš„ æ—¥å¿—ä¸è°ƒè¯•å·¥å…· ä¸­

    @Mod.InitClient()
    def clientInit(self):  # è¿™ä¸ªæ–¹æ³•åå¯ä»¥éšä¾¿å–ï¼Œå› ä¸ºå·²ç»é€šè¿‡@Mod.InitClient()æ³¨æ˜æ˜¯å®¢æˆ·ç«¯çš„åˆå§‹åŒ–æ–¹æ³•
        clientApi.RegisterSystem("MyFirstMod", "MyClientSystem", "myScript.MyClientSystem.MyClientSystem")
        print("MyFirstMod å®¢æˆ·ç«¯å·²åŠ è½½ï¼")  # printæ‰“å°çš„å†…å®¹å°†è¾“å‡ºåœ¨MCStudioçš„ æ—¥å¿—ä¸è°ƒè¯•å·¥å…· ä¸­
```
:::

::: code-group
```python [BP/myScript/MyServerSystem.py]
import mod.server.extraServerApi as serverApi

ServerSystem = serverApi.GetServerSystemCls()

# ç»§æ‰¿ ServerSystem ç±»ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª æœåŠ¡ç«¯System
class MyServerSystem(ServerSystem):

    def __init__(self, namespace, systemName):
        super(MyServerSystem, self).__init__(namespace, systemName)
        print("MyServerSystem Hello World!")  # printæ‰“å°çš„å†…å®¹å°†è¾“å‡ºåœ¨MCStudioçš„ æ—¥å¿—ä¸è°ƒè¯•å·¥å…· ä¸­
```
:::

::: code-group
```python [BP/myScript/MyClientSystem.py]
# æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜æš‚æ—¶ç”¨ä¸åˆ° ClientSystemï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å…ˆåˆ›å»ºå¥½
import mod.client.extraClientApi as clientApi

ClientSystem = clientApi.GetClientSystemCls()

# ç»§æ‰¿ ClientSystem ç±»ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª å®¢æˆ·ç«¯System
class MyClientSystem(ClientSystem):

    def __init__(self, namespace, systemName):
        super(MyClientSystem, self).__init__(namespace, systemName)
        print("MyClientSystem Hello World!")
```
:::

BOOMï¼å°±è¿™ä¹ˆç®€å•ï¼

:::details :bulb: ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›Systemï¼Ÿ
<!--@include: @/wiki/modsdk/why-system.md-->
:::

## 3. è¿è¡Œä½ çš„Mod

- ä¿å­˜ä½ çš„ä»£ç 
- åœ¨ MCStudio ä¸­æ‰¾åˆ°æ­¤ Addonsï¼Œé¼ æ ‡åˆ’ä¸Šå»åç‚¹å‡» `å¼€å‘æµ‹è¯•` æŒ‰é’®
- é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ¸¸æˆç‰ˆæœ¬ï¼ˆä¸€èˆ¬ä¸ºæœ€æ–°ï¼‰
- å¡«å†™ç›¸å…³æµ‹è¯•åç§°å’Œæµ‹è¯•åœ°å›¾çš„é…ç½®ï¼Œç‚¹å‡» `å¼€å§‹` æŒ‰é’®
- ç­‰å¾…æ¸¸æˆå¯åŠ¨ï¼Œä½ ä¼šåœ¨ **è„šæœ¬ä¸æµ‹è¯•å·¥å…·** çœ‹åˆ° `MyFirstMod æœåŠ¡ç«¯å·²åŠ è½½ï¼` å’Œ `MyFirstMod å®¢æˆ·ç«¯å·²åŠ è½½ï¼` çš„è¾“å‡º

::: details :thinking: å¸¸è§é—®é¢˜
- å¦‚æœä½ æ²¡æœ‰çœ‹åˆ°æœŸæœ›çš„è¾“å‡ºï¼Œå¯ä»¥åœ¨ **è„šæœ¬ä¸æµ‹è¯•å·¥å…·** ä¸­æŸ¥çœ‹æ—¥å¿—ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æŠ¥é”™
- å¦‚æœæ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œä½ éœ€è¦æ£€æŸ¥ä½ çš„ **è„šæœ¬ç›®å½•** åŠä»¥ä¸‹çš„å„çº§ç›®å½•ä¸­ï¼Œæ˜¯å¦æœ‰`__init__.py`æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶
- å†æ¬¡æ£€æŸ¥åï¼Œå¯ä»¥å°è¯•é‡å¯æ¸¸æˆï¼ˆå³ä¾§ `æµ‹è¯•å­˜æ¡£è®°å½•`ï¼‰
:::

## 4. å®ç°ç®€å•åŠŸèƒ½

### ğŸ§ª å°åŠŸèƒ½ï¼šå³é”®æ–¹å—ï¼Œè·å¾—é’»çŸ³

::: code-group
```python [BP/myScript/MyServerSystem.py]
import mod.server.extraServerApi as serverApi

ServerSystem = serverApi.GetServerSystemCls()

# ç»§æ‰¿ ServerSystem ç±»ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª æœåŠ¡ç«¯System
class MyServerSystem(ServerSystem):
    def __init__(self, namespace, systemName):
        super(MyServerSystem, self).__init__(namespace, systemName)
        # ç›‘å¬ç©å®¶ä½¿ç”¨æ–¹å—äº‹ä»¶ 
        self.ListenForEvent(serverApi.GetEngineNamespace(), serverApi.GetEngineSystemName(), "ServerBlockUseEvent", self, self.onBlockUse)

    def onBlockUse(self, args):
        # ä»äº‹ä»¶çš„å‚æ•°ä¸­ï¼Œè·å¾—ç©å®¶ID
        playerId = args["playerId"]
        # ç”Ÿæˆï¼ˆè·å–ï¼‰ä¸€ä¸ªå¼•æ“çš„ItemComponent
        itemComp = serverApi.GetEngineCompFactory().CreateItem(playerId)
        # å‘ç©å®¶èƒŒåŒ…ä¸­æ”¾å…¥ä¸€ä¸ªé’»çŸ³
        itemComp.SpawnItemToPlayerInv({
            "itemName": "minecraft:diamond",
            "count": 1
        })
```
:::

::: tip ğŸ”Œ ä½¿ç”¨åˆ°çš„ç›¸å…³API
- æ¥å£ï¼š[ListenForEvent](/mcdocs/1-ModAPI/æ¥å£/é€šç”¨/äº‹ä»¶.html#listenforevent)
- äº‹ä»¶ï¼š[ServerBlockUseEvent](/mcdocs/1-ModAPI/äº‹ä»¶/æ–¹å—.html#serverblockuseevent)
- æ¥å£ï¼š[SpawnItemToPlayerInv](/mcdocs/1-ModAPI/æ¥å£/ç©å®¶/èƒŒåŒ….html#spawnitemtoplayerinv)
:::

å¤ªæ£’äº†ï¼èµ¶å¿«è¿›å…¥æ¸¸æˆï¼Œå³é”®ç‚¹å‡»ä»»æ„æ–¹å—ï¼Œä½ å°†è·å¾—ä¸€ä¸ªé’»çŸ³ï¼